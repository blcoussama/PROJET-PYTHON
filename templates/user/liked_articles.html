{% extends "base.html" %}

{% block content %}
<h2>Articles aimés</h2>

{% if articles %}
<div class="article-list">
    {% for a in articles %}
    <div class="article-card">
        <h3 style="margin:0 0.5rem 0.5rem;">
            <a href="/article/{{ a.id }}" style="color:#007bff; text-decoration:none;">
                {{ a.title }}
            </a>
        </h3>

        {% if a.image_url %}
        <img src="{{ a.image_url }}" alt="{{ a.title }}"
            style="width:100%; height:200px; object-fit:cover; border-radius:4px;" />
        {% endif %}

        <p style="margin:0.5rem 0; color:#666;">
            {{ a.content|truncate(150) }}
        </p>

        <div style="font-size:.85rem; color:#888; margin-bottom:1rem;">
            <i class="fas fa-user"></i> {{ a.author_name }}
            &nbsp; • &nbsp;
            <i class="fas fa-calendar"></i> {{ a.created_at|format_date }}
            &nbsp; • &nbsp;
            <i class="fas fa-heart"></i> {{ a.likes_count }}
            <i class="fas fa-comment" style="margin-left:1rem;"></i> {{ a.comments_count }}
        </div>

        <a href="/article/{{ a.id }}" class="btn btn-primary" style="text-decoration:none;">
            Lire l'article
        </a>
    </div>
    {% endfor %}
</div>

<style>
    .article-list {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap: 1.5rem;
        margin-top: 1rem;
    }

    .article-card {
        background: #fff;
        border-radius: 6px;
        padding: 1rem;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .btn-primary {
        display: inline-block;
        background: #007bff;
        color: #fff;
        padding: .5rem 1rem;
        border-radius: 4px;
    }

    .btn-primary:hover {
        background: #0056b3;
    }
</style>
{% else %}
<div class="empty-state" style="text-align:center; padding:3rem 1rem; color:#666;">
    <i class="fas fa-heart fa-3x" style="margin-bottom:1rem;"></i>
    <h3>Aucun article aimé</h3>
    <p>Vous n'avez aimé aucun article pour le moment.</p>
    <a href="/" class="btn btn-primary" style="text-decoration:none;">
        Découvrir des articles
    </a>
</div>
{% endif %}

{% endblock %}